<!doctype html>
<html lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-beta.0">
<link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="CosmWasm Documentation Blog RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="CosmWasm Documentation Blog Atom Feed"><title data-react-helmet="true">CHANGELOG | CosmWasm Documentation</title><meta data-react-helmet="true" property="og:url" content="https://docs.cosmwasm.com/learn/CHANGELOG"><meta data-react-helmet="true" name="docusaurus_locale" content="en"><meta data-react-helmet="true" name="docusaurus_version" content="current"><meta data-react-helmet="true" name="docusaurus_tag" content="docs-default-current"><meta data-react-helmet="true" property="og:title" content="CHANGELOG | CosmWasm Documentation"><meta data-react-helmet="true" name="description" content="[0.14.0] - 2021-05-03"><meta data-react-helmet="true" property="og:description" content="[0.14.0] - 2021-05-03"><link data-react-helmet="true" rel="shortcut icon" href="/img/favicon.svg"><link data-react-helmet="true" rel="canonical" href="https://docs.cosmwasm.com/learn/CHANGELOG"><link data-react-helmet="true" rel="alternate" href="https://docs.cosmwasm.com/learn/CHANGELOG" hreflang="en"><link data-react-helmet="true" rel="alternate" href="https://docs.cosmwasm.com/learn/CHANGELOG" hreflang="x-default"><link rel="stylesheet" href="/assets/css/styles.b786656a.css">
<link rel="preload" href="/assets/js/runtime~main.79e02d10.js" as="script">
<link rel="preload" href="/assets/js/main.b444c41b.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div><a href="#main" class="skipToContent_1oUP">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle" type="button" tabindex="0"><svg aria-label="Menu" width="30" height="30" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><img src="/img/logo.svg" alt="CosmWasm" class="themedImage_1VuW themedImage--light_3UqQ navbar__logo"><img src="/img/logo.svg" alt="CosmWasm" class="themedImage_1VuW themedImage--dark_hz6m navbar__logo"></a></div><div class="navbar__items navbar__items--right"><a href="https://cosmwasm.com" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Website</a><a href="https://github.com/CosmWasm" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub</a><div class="react-toggle displayOnlyInLargeViewport_GrZ2 react-toggle--disabled" role="button" tabindex="-1"><div class="react-toggle-track"><div class="react-toggle-track-check"><span class="toggle_71bT">ðŸŒœ</span></div><div class="react-toggle-track-x"><span class="toggle_71bT">ðŸŒž</span></div></div><div class="react-toggle-thumb"></div><input type="checkbox" class="react-toggle-screenreader-only" aria-label="Switch between dark and light mode"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div><div class="navbar-sidebar"><div class="navbar-sidebar__brand"><a class="navbar__brand" href="/"><img src="/img/logo.svg" alt="CosmWasm" class="themedImage_1VuW themedImage--light_3UqQ navbar__logo"><img src="/img/logo.svg" alt="CosmWasm" class="themedImage_1VuW themedImage--dark_hz6m navbar__logo"></a></div><div class="navbar-sidebar__items"><div class="menu"><ul class="menu__list"><li class="menu__list-item"><a href="https://cosmwasm.com" target="_blank" rel="noopener noreferrer" class="menu__link">Website</a></li><li class="menu__list-item"><a href="https://github.com/CosmWasm" target="_blank" rel="noopener noreferrer" class="menu__link">GitHub</a></li></ul></div></div></div></nav><div class="main-wrapper docs-wrapper doc-page"><div class="docPage_31aa"><div class="docSidebarContainer_3Kbt" role="complementary"><div class="sidebar_15mo"><div class="menu menu--responsive thin-scrollbar menu_Bmed"><button aria-label="Open menu" aria-haspopup="true" class="button button--secondary button--sm menu__button" type="button"><svg aria-label="Menu" class="sidebarMenuIcon_fgN0" width="24" height="24" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><ul class="menu__list"><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Welcome</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/">Introduction</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/introduction/roadmap">Rough Roadmap</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Getting Started</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/getting-started/intro">Your First Contract</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/getting-started/installation">Installation</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/getting-started/setting-env">Setting Up Environment</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/getting-started/compile-contract">Downloading and Compiling Contract</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/getting-started/interact-with-contract">Uploading and Interacting</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/getting-started/next-steps">Next Steps</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Architecture</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/architecture/multichain">What are Multi-Chain Contracts?</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/architecture/actor">Actor Model for Contract Calls</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/architecture/addresses">Names and Addresses</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/architecture/query">Querying Contract State</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/architecture/serialization">Serialization Formats</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/architecture/composition">Contract Composition</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/architecture/smart-contracts">Comparison with Solidity Contracts</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Testnets</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/testnets/build-requirements">Build Requirements</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/testnets/testnets">Joining Testnets</a></li></ul></li><li class="menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#!">Learn</a><ul class="menu__list"><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="0">Simple Option</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/learn/simple-option/intro">Introduction</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/learn/simple-option/setup">Setup</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/learn/simple-option/develop">Develop Contract</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/learn/simple-option/testing">Testing</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/learn/simple-option/next-steps">Next Steps</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="0">Hijack Escrow</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/learn/hijack-escrow/intro">Introduction</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/learn/hijack-escrow/hack-contract">Hack the Contract</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/learn/hijack-escrow/edit-escrow-hints">Hints</a></li></ul></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/learn/governance">Smart Contracts Over Governance</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="0">Name Service</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/learn/name-service/intro">Introduction</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="0">Frontend dApp</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/learn/frontend-dapp/intro">Introduction</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/learn/frontend-dapp/cosmicdapp-logic">Cosmic dApp logic</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/learn/frontend-dapp/cosmicdapp-design">Cosmic dApp design</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/learn/frontend-dapp/bootstrap-dapp">Bootstrap dApp</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/learn/frontend-dapp/dapp-development">Develop dApp</a></li></ul></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/learn/videos-workshops">Videos and Workshops</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/learn/MIGRATING">Migrating Contracts</a></li><li class="menu__list-item"><a aria-current="page" class="menu__link menu__link--active active" tabindex="0" href="/learn/CHANGELOG">CHANGELOG</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Community</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/community/hall-of-fame">Hall of Fame</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Plus Contracts</a><ul class="menu__list"><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">CW1</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/cw-plus/cw1/intro">CW1 Spec: Proxy Contracts</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/cw-plus/cw1/cw1-subkeys">CW1 Subkeys</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/cw-plus/cw1/cw1-whitelist">CW1 Whitelist</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">CW2</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/cw-plus/cw2/Spec">CW2 Spec: Contract Info for Migration</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">CW3</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/cw-plus/cw3/spec">CW3 Spec: MultiSig/Voting Contracts</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/cw-plus/cw3/cw3-fixed-spec">CW3 Fixed Multisig</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/cw-plus/cw3/cw3-flex-spec">CW3 Flexible Multisig</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">CW4</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/cw-plus/cw4/spec">CW4 Spec: Group Members</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/cw-plus/cw4/cw4-group-spec">CW4 Group</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/cw-plus/cw4/cw4-stake-spec">CW4 Stake</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">CW20</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/cw-plus/cw20/spec">CW20 Spec: Fungible Tokens</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/cw-plus/cw20/cw20-base-spec">CW20 Basic</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/cw-plus/cw20/cw20-base-tutorial">CW20-base Tutorial</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/cw-plus/cw20/cw20-bonding-spec">CW20 Bonding curve</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/cw-plus/cw20/cw20-escrow-spec">CW20 Escrow</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/cw-plus/cw20/cw20-staking-spec">CW20 Staking Derivates</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/cw-plus/cw20/cw20-atomic-swap-spec">Atomic Swaps</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">CW721</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/cw-plus/cw721/spec">CW721 Spec: Non Fungible Tokens</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/cw-plus/cw721/cw721-base">Cw721 Basic</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">General</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/cw-plus/general/overview">Plus Contracts</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/cw-plus/general/tips">Advanced REPL tips</a></li></ul></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">IBC</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/ibc/overview">IBC And CosmWasm</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/ibc/relayer">Relayer</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/ibc/active-connections">Active IBC connections</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/ibc/cw20-ics20">CW20 ICS20</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Resources</a><ul class="menu__list"><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">Media</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/resources/media/assets">Brand guidelines</a></li></ul></li></ul></li></ul></div></div></div><main class="docMainContainer_3ufF"><div class="container padding-vert--lg docItemWrapper_3FMP"><div class="row"><div class="col docItemCol_3FnS"><div class="docItemContainer_33ec"><article><header><h1 class="docTitle_3a4h">CHANGELOG</h1></header><div class="markdown"><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="0140---2021-05-03"></a>[0.14.0] - 2021-05-03<a class="hash-link" href="#0140---2021-05-03" title="Direct link to heading">#</a></h2><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="added"></a>Added<a class="hash-link" href="#added" title="Direct link to heading">#</a></h3><ul><li>cosmwasm-crypto: Add <code>ed25519_batch_verify</code>, EdDSA ed25519 batch signature
verification scheme for Tendermint signatures and public keys formats.
([#788])</li><li>cosmwasm-crypto: Add <code>ed25519_verify</code>, EdDSA ed25519 signature verification
scheme for Tendermint signature and public key formats. ([#771])</li><li>cosmwasm-crypto: New crypto-related crate. Add <code>secp256k1_verify</code>, ECDSA
secp256k1 signature verification scheme for Cosmos signature and public key
formats. ([#780])</li><li>cosmwasm-vm: Add PinnedMemoryCache. (<a href="https://github.com/CosmWasm/cosmwasm/issues/696" target="_blank" rel="noopener noreferrer">#696</a>)</li><li>cosmwasm-vm: The new <code>Cache::analyze</code> provides a static analyzis of the Wasm
bytecode. This is used to tell the caller if the contract exposes IBC entry
points. (<a href="https://github.com/CosmWasm/cosmwasm/pull/736" target="_blank" rel="noopener noreferrer">#736</a>)</li><li>cosmwasm-vm: Added new <code>stargate</code> feature flag to enable new stargate and ibc
features (<a href="https://github.com/CosmWasm/cosmwasm/issues/692" target="_blank" rel="noopener noreferrer">#692</a>, <a href="https://github.com/CosmWasm/cosmwasm/pull/716" target="_blank" rel="noopener noreferrer">#716</a>)</li><li>cosmwasm-vm: (requires <code>stargate</code>) call into 6 new ibc entry points if exposed
by contract (<a href="https://github.com/CosmWasm/cosmwasm/issues/692" target="_blank" rel="noopener noreferrer">#692</a>, <a href="https://github.com/CosmWasm/cosmwasm/pull/716" target="_blank" rel="noopener noreferrer">#716</a>)</li><li>cosmwasm-std: Added new <code>stargate</code> feature flag to enable new stargate and ibc
features (<a href="https://github.com/CosmWasm/cosmwasm/issues/692" target="_blank" rel="noopener noreferrer">#692</a>, <a href="https://github.com/CosmWasm/cosmwasm/pull/706" target="_blank" rel="noopener noreferrer">#706</a>)</li><li>cosmwasm-std: (requires <code>stargate</code>) Added new <code>CosmosMsg::Stargate</code> message
type to dispatch protobuf-encoded message (contract must know proto schema)
(<a href="https://github.com/CosmWasm/cosmwasm/pull/706" target="_blank" rel="noopener noreferrer">#706</a>)</li><li>cosmwasm-std: (requires <code>stargate</code>) Added new <code>QueryRequest::Stargate</code> message
type to dispatch protobuf-encoded queries (contract must know proto schema for
request and response) (<a href="https://github.com/CosmWasm/cosmwasm/pull/706" target="_blank" rel="noopener noreferrer">#706</a>)</li><li>cosmwasm-std: (requires <code>stargate</code>) Added new <code>CosmosMsg::Ibc(IbcMsg)</code> message
type to use ibctransfer app or send raw ics packets (if contract has ibc entry
points) (<a href="https://github.com/CosmWasm/cosmwasm/issues/692" target="_blank" rel="noopener noreferrer">#692</a>, <a href="https://github.com/CosmWasm/cosmwasm/pull/710" target="_blank" rel="noopener noreferrer">#710</a>)</li><li>cosmwasm-std: Add mutable helper methods to <code>InitResponse</code>, <code>MigrateResponse</code>
and <code>HandleResponse</code> which make <code>Context</code> obsolete.</li><li>contracts: added new <code>ibc-reflect</code> contract that receives channels and assigns
each an account to redispatch. Similar idea to ICS27/Interchain Accounts (but
different implementation) (<a href="https://github.com/CosmWasm/cosmwasm/issues/692" target="_blank" rel="noopener noreferrer">#692</a>, <a href="https://github.com/CosmWasm/cosmwasm/pull/711" target="_blank" rel="noopener noreferrer">#711</a>, <a href="https://github.com/CosmWasm/cosmwasm/pull/714" target="_blank" rel="noopener noreferrer">#714</a>)</li><li>cosmwasm-std: Added new <code>WasmMsg::Migrate</code> variant that allows one contract
(eg. multisig) be the admin and migrate another contract (<a href="https://github.com/CosmWasm/cosmwasm/pull/768" target="_blank" rel="noopener noreferrer">#768</a>)</li><li>cosmwasm-std: Added optional <code>system</code> entry point that can only be called by
native (blockchain) modules to expose admin functionality if desired. (<a href="https://github.com/CosmWasm/cosmwasm/pull/793" target="_blank" rel="noopener noreferrer">#793</a>)</li><li>cosmwasm-std: Add extra field <code>submessages</code> to <code>Response</code>, such that you can
get a callback from these messages after their execution (success or failure).
(<a href="https://github.com/CosmWasm/cosmwasm/pull/796" target="_blank" rel="noopener noreferrer">#796</a>)</li><li>cosmwasm-std: Added <code>reply</code> entry point that will receive all callbacks from
submessages dispatched by this contract. This is only required if contract
returns &quot;submessages&quot; (above). (<a href="https://github.com/CosmWasm/cosmwasm/pull/796" target="_blank" rel="noopener noreferrer">#796</a>)</li><li>cosmwasm-std: Implement <code>From&lt;Uint128&gt; for String</code>, <code>From&lt;Uint128&gt; for u128</code>
as well as <code>From&lt;u{32,16,8}&gt; for Uint128</code>.</li><li>cosmwasm-std: Create new address type <code>Addr</code>. This is human readable (like
<code>HumanAddr</code>) but is immutable and always contains a valid address (<a href="https://github.com/CosmWasm/cosmwasm/pull/802" target="_blank" rel="noopener noreferrer">#802</a>).</li><li>cosmwasm-vm: Add import <code>addr_validate</code> (<a href="https://github.com/CosmWasm/cosmwasm/pull/802" target="_blank" rel="noopener noreferrer">#802</a>).</li><li>cosmwasm-std: Add <code>BankMsg::Burn</code> variant when you want the tokens to
disappear (<a href="https://github.com/CosmWasm/cosmwasm/pull/860" target="_blank" rel="noopener noreferrer">#860</a>)</li><li>cosmwasm-std: Create <code>Fraction&lt;T&gt;</code> trait to represent a fraction <code>p</code>/<code>q</code> with
integers <code>p</code> and <code>q</code>. <code>Decimal</code> now implements <code>Fraction&lt;u128&gt;</code>, which
provides public getters <code>::numerator()</code> and <code>::denominator()</code>.</li><li>cosmwasm-std: Add <code>Decimal::inv</code> that returns <code>1/d</code> for decimal <code>d</code>.</li><li>cosmwasm-vm: Add <code>Cache::metrics</code> to expose internal data for monitoring
purposes (<a href="https://github.com/CosmWasm/cosmwasm/issues/763" target="_blank" rel="noopener noreferrer">#763</a>).</li><li>cosmwasm-std: Implement <code>PartialOrd</code> and <code>Ord</code> for <code>Binary</code> using the same
lexicographical ordering as implemented by <code>Vec&lt;u8&gt;</code>.</li><li>cosmwasm-std: Implement <code>PartialOrd</code> and <code>Ord</code> for <code>Addr</code> using the same
lexicographical ordering as implemented by <code>String</code>.</li><li>cosmwasm-std: Added new <code>WasmMsg::UpdateAdmin</code> variant that allows an admin
contract (eg. multisig) to set another admin (<a href="https://github.com/CosmWasm/cosmwasm/pull/900" target="_blank" rel="noopener noreferrer">#900</a>)</li><li>cosmwasm-std: Added new <code>WasmMsg::ClearAdmin</code> variant that allows an admin
contract (eg. multisig) to clear the admin, to prevent future migrations
(<a href="https://github.com/CosmWasm/cosmwasm/pull/900" target="_blank" rel="noopener noreferrer">#900</a>)</li><li>cosmwasm-std: Implement <code>Display for Coin</code> (<a href="https://github.com/CosmWasm/cosmwasm/pull/901" target="_blank" rel="noopener noreferrer">#901</a>).</li><li>cosmwasm-std: Create <code>Uint64</code> analogously to <code>Uint128</code> with string
serialization allowing the use of the full uint64 range in JSON clients that
use float numbers, such as JavaScript and jq.</li><li>cosmwasm-std: Create const functions <code>Uint64::new</code> and <code>Uint128::new</code> to
create instances in a const context.</li></ul><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="changed"></a>Changed<a class="hash-link" href="#changed" title="Direct link to heading">#</a></h3><ul><li>contracts: Rename <code>HandleMsg</code> to <code>ExecuteMsg</code>.</li><li>all: Rename <code>handle</code> entry point to <code>execute</code>.</li><li>all: Rename <code>init</code> entry point to <code>instantiate</code>.</li><li>all: Rename <code>system</code> entry point to <code>sudo</code>.</li><li>all: Drop support for Rust versions lower than 1.51.0.</li><li>all: The <code>query</code> and <code>execute</code> entry points are now optional. It is still
highly recommended to implement and expose them in almost any use case though.</li><li>all: Change the encoding of the key/value region of the <code>db_next</code> import to a
more generic encoding that supports an arbitrary number of sections. This
encoding can then be reused for other multi value regions.</li><li>all: Remove the <code>info: MessageInfo</code> argument from the <code>migrate</code> entry point
(<a href="https://github.com/CosmWasm/cosmwasm/issues/690" target="_blank" rel="noopener noreferrer">#690</a>).</li><li>cosmwasm-std: Remove <code>from_address</code> from <code>BankMsg::Send</code>, as it always sends
from the contract address, and this is consistent with other <code>CosmosMsg</code>
variants.</li><li>cosmwasm-std: Remove the previously deprecated <code>InitResult</code>, <code>HandleResult</code>,
<code>MigrateResult</code> and <code>QueryResult</code> in order to make error type explicit and
encourage migration to custom errors.</li><li>cosmwasm-std: Add a <code>data</code> field to <code>InitResponse</code> the same way as in
<code>MigrateResponse</code> and <code>HandleResponse</code>.</li><li>cosmwasm-std: Rename <code>MessageInfo::sent_funds</code> to <code>MessageInfo::funds</code>.</li><li>cosmwasm-std: Merge response types <code>InitResponse</code>, <code>HandleResponse</code> and
<code>MigrateResponse</code> into the new <code>Response</code>.</li><li>cosmwasm-std: Remove <code>Default</code> implementation from <code>HumanAddr</code>,
<code>CanonicalAddr</code>, <code>ContractInfo</code>, <code>MessageInfo</code>, <code>BlockInfo</code> and <code>Env</code>. If you
need one of those, you&#x27;re probably doing something wrong.</li><li>cosmwasm-std: Make <code>label</code> in <code>WasmMsg::Instantiate</code> non-optional to better
match the Go/database format.</li><li>cosmwasm-std: Add new field <code>admin</code> to <code>WasmMsg::Instantiate</code> to fully support
<code>MsgInstantiateContract</code> from <code>x/wasm</code> (<a href="https://github.com/CosmWasm/cosmwasm/issues/861" target="_blank" rel="noopener noreferrer">#861</a>).</li><li>cosmwasm-std: <code>Binary::to_array</code> is now generic over the array length instead
of the output type. As a consequence the obsolete type <code>ByteArray</code> was
removed. The array length is not restricted to 0-64 anymore.</li><li>cosmwasm-std: Use const generics to implement <code>From&lt;&amp;[u8; LENGTH]&gt; for Binary</code>
and <code>From&lt;[u8; LENGTH]&gt; for Binary</code>, such that the array length is not
restricted to 0-64 anymore.</li><li>cosmwasm-vm: Avoid serialization of Modules in <code>InMemoryCache</code>, for
performance. Also, remove <code>memory_limit</code> from <code>InstanceOptions</code>, and define it
instead at <code>Cache</code> level (same memory limit for all cached instances).
(<a href="https://github.com/CosmWasm/cosmwasm/issues/697" target="_blank" rel="noopener noreferrer">#697</a>)</li><li>cosmwasm-std: Rename type <code>KV</code> to <code>Pair</code> in order to comply to naming
convention as enforced by clippy rule <code>upper_case_acronyms</code> from Rust 1.51.0
on.</li><li>cosmwasm-std: <code>ContractInfo::address</code> and <code>MessageInfo::sender</code> are now of
type <code>Addr</code>. The value of those fields is created by the host and thus valid.</li><li>cosmwasm-vm: Bump required marker export <code>cosmwasm_vm_version_4</code> to
<code>interface_version_5</code>.</li><li>cosmwasm-vm: Rename trait <code>Api</code> to <code>BackendApi</code> to better express this is the
API provided by the VM&#x27;s backend (i.e. the blockchain).</li><li>cosmwasm-vm: Rename imports to <code>addr_canonicalize</code> and <code>addr_humanize</code>
(<a href="https://github.com/CosmWasm/cosmwasm/pull/802" target="_blank" rel="noopener noreferrer">#802</a>).</li><li>cosmwasm-vm: Replace types <code>HumanAddr</code>/<code>CanonicalAddr</code> with
<code>&amp;str</code>/<code>String</code>/<code>&amp;[u8]</code>/<code>Vec&lt;u8&gt;</code> in the methods of <code>BackendApi</code>. The address
types belong in the contract development and the backend operates on raw
strings and binary anyways.</li><li>contracts: <code>reflect</code> contract requires <code>stargate</code> feature and supports
redispatching <code>Stargate</code> and <code>IbcMsg::Transfer</code> messages (<a href="https://github.com/CosmWasm/cosmwasm/issues/692" target="_blank" rel="noopener noreferrer">#692</a>)</li><li>cosmwasm-std: The arithmetic methods of <code>Uint128</code> got a huge overhaul, making
them more consistent with the bahaviour of the Rust primitive types. Thank you
<a href="https://github.com/yihuang" target="_blank" rel="noopener noreferrer">@yihuang</a> for bringing this up and for the great implementation. (<a href="https://github.com/CosmWasm/cosmwasm/pull/853" target="_blank" rel="noopener noreferrer">#853</a>)<ol><li><code>Uint128</code> got the new functions <code>checked_add</code>, <code>checked_sub</code>,
<code>checked_mul</code>, <code>checked_div</code>, <code>checked_div_euclid</code>, <code>checked_rem</code>,
<code>wrapping_add</code>, <code>wrapping_sub</code>, <code>wrapping_mul</code>, <code>wrapping_pow</code>,
<code>saturating_add</code>, <code>saturating_sub</code>, <code>saturating_mul</code> and <code>saturating_pow</code>
which match their equivalent in <a href="https://doc.rust-lang.org/std/primitive.u128.html" target="_blank" rel="noopener noreferrer">u128</a> except that instead of <code>Option</code> the
checked methods return a <code>Result</code> with an <code>OverflowError</code> or
<code>DivideByZeroError</code> that carries a few debug information and can directly
be converted to <code>StdError</code>/<code>StdResult</code> by using the <code>?</code> operator.</li><li><code>StdError::Underflow</code> and <code>StdError::underflow</code> were removed in favour of
<code>StdError::Overflow</code>. <code>StdError::DivideByZeroError</code> was added.</li><li>The <code>-</code> operator (<code>impl ops::Sub&lt;Uint128&gt; for Uint128</code>) was removed
because it returned a <code>StdResult</code> instead of panicking in the case of an
overflow. This behaviour was inconsistent with <code>+</code> and the Rust standard
library. Please use the explicit <code>*_sub</code> methods introduced above. In a
couple of releases from now, we want to introduce the operator again with
panicking overflow behaviour (<a href="https://github.com/CosmWasm/cosmwasm/issues/858" target="_blank" rel="noopener noreferrer">#858</a>).</li></ol></li><li>cosmwasm-std: Replace <code>HumanAddr</code> with <code>String</code> in <code>BankQuery</code>, <code>StakingQuery</code>
and <code>WasmQuery</code> query requests (<a href="https://github.com/CosmWasm/cosmwasm/pull/802" target="_blank" rel="noopener noreferrer">#802</a>).</li><li>cosmwasm-std: In staking query response types <code>Delegation</code>, <code>FullDelegation</code>
and <code>Validator</code> the validator address fields were changed from <code>HumanAddr</code> to
<code>String</code>. The new <code>Addr</code> type cannot be used here because it only supports
standard account addresses via <code>Api::addr_*</code> (<a href="https://github.com/CosmWasm/cosmwasm/issues/871" target="_blank" rel="noopener noreferrer">#871</a>).</li><li>cosmwasm-std: Change address types in <code>BankMsg</code>, <code>IbcMsg</code> and <code>WasmMsg</code> from
<code>HumanAddr</code> to <code>String</code> (<a href="https://github.com/CosmWasm/cosmwasm/pull/802" target="_blank" rel="noopener noreferrer">#802</a>).</li><li>cosmwasm-std: <code>Api::addr_humanize</code> now returns <code>Addr</code> instead of <code>HumanAddr</code>
(<a href="https://github.com/CosmWasm/cosmwasm/pull/802" target="_blank" rel="noopener noreferrer">#802</a>).</li><li>cosmwasm-std: Hide <code>StakingMsg</code>, <code>CosmosMsg::Staking</code>,
<code>AllDelegationsResponse</code>, <code>BondedDenomResponse</code>, <code>Delegation</code>,
<code>FullDelegation</code>, <code>StakingQuery</code>, <code>Validator</code>, <code>ValidatorsResponse</code> and
<code>testing::StakingQuerier</code> behind the <code>staking</code> feature flag to make those only
available in contracts built for PoS chains.</li><li>cosmwasm-std: Remove <code>StakingMsg::Withdraw</code> in favour of
<code>DistributionMsg::SetWithdrawAddress</code> and
<code>DistributionMsg::WithdrawDelegatorReward</code> (<a href="https://github.com/CosmWasm/cosmwasm/issues/848" target="_blank" rel="noopener noreferrer">#848</a>).</li><li>cosmwasm-std: Rename <code>StakingQuery::Validators</code>, <code>ValidatorsResponse</code> and
<code>QuerierWrapper::query_validators</code> to <code>StakingQuery::AllValidators</code>,
<code>AllValidatorsResponse</code> and <code>QuerierWrapper.query_all_validators</code>. Add
<code>StakingQuery::Validator</code>, <code>ValidatorResponse</code> and
<code>QuerierWrapper::query_validator</code> to allow querying a single validator.
(<a href="https://github.com/CosmWasm/cosmwasm/pull/879" target="_blank" rel="noopener noreferrer">#879</a>)</li><li>cosmwasm-schema: Make first argument non-mutable in <code>export_schema_with_title</code>
for consistency with <code>export_schema</code>.</li><li>cosmwasm-std: The block time in <code>BlockInfo::time</code> is now a <code>Timestamp</code>.
<code>BlockInfo::time_nanos</code> was removed.</li></ul><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="deprecated"></a>Deprecated<a class="hash-link" href="#deprecated" title="Direct link to heading">#</a></h3><ul><li>cosmwasm-std: <code>InitResponse</code>, <code>MigrateResponse</code> and <code>HandleResponse</code> are
deprecated in favour of the new <code>Response</code>.</li><li>cosmwasm-std: <code>Context</code> is deprecated in favour of the new mutable helpers in
<code>Response</code>.</li><li>cosmwasm-std: <code>HumanAddr</code> is not much more than an alias to <code>String</code> and it
does not provide significant safety advantages. With CosmWasm 0.14, we now use
<code>String</code> when there was <code>HumanAddr</code> before. There is also the new <code>Addr</code>,
which holds a validated immutable human readable address. (<a href="https://github.com/CosmWasm/cosmwasm/pull/802" target="_blank" rel="noopener noreferrer">#802</a>)</li></ul><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="0132---2021-01-14"></a>[0.13.2] - 2021-01-14<a class="hash-link" href="#0132---2021-01-14" title="Direct link to heading">#</a></h2><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="changed-1"></a>Changed<a class="hash-link" href="#changed-1" title="Direct link to heading">#</a></h2><ul><li>cosmwasm-vm: Update Wasmer to 1.0.1.</li></ul><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="0131---2021-01-12"></a>[0.13.1] - 2021-01-12<a class="hash-link" href="#0131---2021-01-12" title="Direct link to heading">#</a></h2><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="added-1"></a>Added<a class="hash-link" href="#added-1" title="Direct link to heading">#</a></h3><ul><li>cosmwasm-std: Add the new <code>#[entry_point]</code> macro attribute that serves as an
alternative implementation to <code>cosmwasm_std::create_entry_points!(contract)</code>
and <code>cosmwasm_std::create_entry_points_with_migration!(contract)</code>. Both ways
are supported in the 0.13 series.</li></ul><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="0130--2021-01-06"></a>[0.13.0] â€“ 2021-01-06<a class="hash-link" href="#0130--2021-01-06" title="Direct link to heading">#</a></h2><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="added-2"></a>Added<a class="hash-link" href="#added-2" title="Direct link to heading">#</a></h2><ul><li>cosmwasm-std: Extend binary to array support to 64 bytes.</li></ul><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="changed-2"></a>Changed<a class="hash-link" href="#changed-2" title="Direct link to heading">#</a></h2><ul><li>all: Drop support for Rust versions lower than 1.47.0.</li><li>cosmwasm-std: Remove <code>cosmwasm_std::testing::MockApi::new</code>. Use
<code>MockApi::default</code> instead.</li><li>cosmwasm-vm: Upgrade Wasmer to 1.0 and adapt all the internal workings
accordingly.</li><li>cosmwasm-vm: Export method <code>cosmwasm_vm::Cache::stats</code> and response type
<code>Stats</code>.</li><li>cosmwasm-vm: Remove <code>cosmwasm_vm::testing::MockApi::new</code>. Use
<code>MockApi::default</code> instead.</li><li>cosmwasm-vm: Convert field <code>Instance::api</code> to a method.</li><li>cosmwasm-vm: Change order of generic arguments for consistency in <code>Instance</code>,
<code>Cache</code> and <code>Backend</code> to always match <code>&lt;A: Api, S: Storage, Q: Querier&gt;</code>.</li><li>cosmwasm-vm: Remove <code>Instance::get_memory_size</code>. Use <code>Instance::memory_pages</code>
instead.</li></ul><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="0121-2020-12-09"></a>0.12.1 (2020-12-09)<a class="hash-link" href="#0121-2020-12-09" title="Direct link to heading">#</a></h2><p><strong>cosmwasm-std</strong></p><ul><li>Deprecate <code>InitResult</code>, <code>HandleResult</code>, <code>MigrateResult</code> and <code>QueryResult</code> in
order to make error type explicit an encourage migration to custom errors.</li><li>Implement <code>Deref</code> for <code>QuerierWrapper</code>, such that <code>QuerierWrapper</code> behaves
like a smart pointer to <code>Querier</code> allowing you to access <code>Querier</code> methods
directly.</li></ul><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="0120-2020-11-19"></a>0.12.0 (2020-11-19)<a class="hash-link" href="#0120-2020-11-19" title="Direct link to heading">#</a></h2><p><strong>cosmwasm-std</strong></p><ul><li>Remove the previously deprecated <code>StdError::Unauthorized</code>. Contract specific
errors should be implemented using custom error types now (see
<a href="/learn/MIGRATING">migration guide</a> 0.10 -&gt; 0.11).</li><li>Use dependency <code>thiserror</code> instead of <code>snafu</code> to implement <code>StdError</code>. Along
with this change, the <code>backtraces</code> feature now requires Rust nightly.</li><li>Rename <code>StdError::ParseErr::source</code> to <code>StdError::ParseErr::source_type</code> and
<code>StdError::SerializeErr::target</code> to <code>StdError::SerializeErr::target_type</code> to
work around speacial treatment of the field name <code>source</code> in thiserror.</li><li>Rename <code>Extern</code> to <code>Deps</code> to unify naming.</li><li>Simplify ownership of calling <code>handle</code>, etc. with <code>Deps</code> and <code>DepsMut</code> struct
that just contains references (<code>DepsMut</code> has <code>&amp;mut Storage</code> otherwise the
same)</li><li>Remove unused <code>Deps::change_querier</code>. If you need this or similar
functionality, create a new struct with the right querier.</li><li>Remove <code>ReadonlyStorage</code>. You can just use <code>Storage</code> everywhere. And use
<code>&amp;Storage</code> to provide readonly access. This was only needed to let
<code>PrefixedStorage</code>/<code>ReadonlyPrefixedStorage</code> implement the common interface,
which is something we don&#x27;t need.</li></ul><p><strong>cosmwasm-storage</strong></p><ul><li><code>PrefixedStorage</code>/<code>ReadonlyPrefixedStorage</code> do not implement the
<code>Storage</code>/<code>ReadonlyStorage</code> traits anymore. If you need nested prefixes, you
need to construct them directly via <code>PrefixedStorage::multilevel</code> and
<code>ReadonlyPrefixedStorage::multilevel</code>.</li><li>Remove unused <code>TypedStorage</code>. If you need this or similar functionality, you
probably want to use <code>Bucket</code> or <code>Singleton</code>. If you really need it, please
copy the v0.11 code into your project.</li><li>Remove <code>StorageTransaction</code> along with <code>transactional</code> and <code>RepLog</code>. This has
not been used actively for contract development and is now maintained in a
contract testing framework.</li></ul><p><strong>cosmwasm-vm</strong></p><ul><li>Remove <code>Storage::range</code> and <code>StorageIterator</code>. The storage implementation is
now responsible for maintaining iterators internally and make them accessible
via the new <code>Storage::scan</code> and <code>Storage::next</code> methods.</li><li>Add <code>FfiError::IteratorDoesNotExist</code>. Looking at this, <code>FfiError</code> should
probably be renamed to something that includes before, on and behind the FFI
boundary to Go.</li><li><code>MockStorage</code> now implementes the new <code>Storage</code> trait and has an additional
<code>MockStorage::all</code> for getting all elements of an iterator in tests.</li><li>Remove unused <code>Extern::change_querier</code>. If you need this or similar
functionality, create a new struct with the right querier.</li><li>Let <code>Instance::from_code</code> and <code>CosmCache::get_instance</code> take options as an
<code>InstanceOptions</code> struct. This contains <code>gas_limit</code> and <code>print_debug</code> for now
and can easily be extended. <code>cosmwasm_vm::testing::mock_instance_options</code> can
be used for creating such a struct in integration tests.</li><li>Make <code>FileSystemCache</code> crate internal. This should be used via <code>CosmCache</code>.</li><li>Fix return type of <code>FileSystemCache::load</code> to <code>VmResult&lt;Option&lt;Module&gt;&gt;</code> in
order to differentiate missing files from errors.</li><li>Add in-memory caching for recently used Wasm modules.</li><li>Rename <code>CosmCache</code> to just <code>cosmwasm_vm::Cache</code> and add <code>CacheOptions</code> to
configure it.</li><li>Rename <code>Extern</code> to <code>Backend</code>.</li><li>Rename <code>mock_dependencies</code> to <code>mock_backend</code> and
<code>mock_dependencies_with_balances</code> to <code>mock_backend_with_balances</code>.</li><li>Rename <code>FfiError</code>/<code>FfiResult</code> to <code>BackendError</code>/<code>BackendResult</code> and adapt
<code>VmError</code> accordingly.</li></ul><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="0112-2020-10-26"></a>0.11.2 (2020-10-26)<a class="hash-link" href="#0112-2020-10-26" title="Direct link to heading">#</a></h2><p><strong>cosmwasm-std</strong></p><ul><li>Implement <code>From&lt;std::str::Utf8Error&gt;</code> and <code>From&lt;std::string::FromUtf8Error&gt;</code>
for <code>StdError</code>.</li><li>Generalize denom argument from <code>&amp;str</code> to <code>S: Into&lt;String&gt;</code> in <code>coin</code>, <code>coins</code>
and <code>Coin::new</code>.</li><li>Implement <code>PartialEq</code> between <code>Binary</code> and <code>Vec&lt;u8&gt;</code>/<code>&amp;[u8]</code>.</li><li>Add missing <code>PartialEq</code> implementations between <code>HumanAddr</code> and <code>str</code>/<code>&amp;str</code>.</li><li>Add <code>Binary::to_array</code>, which allows you to copy binary content into a
fixed-length <code>u8</code> array. This is espeically useful for creating integers from
binary data.</li></ul><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="0111-2020-10-12"></a>0.11.1 (2020-10-12)<a class="hash-link" href="#0111-2020-10-12" title="Direct link to heading">#</a></h2><p><strong>cosmwasm-std</strong></p><ul><li>Implement <code>Hash</code> and <code>Eq</code> for <code>Binary</code> to allow using <code>Binary</code> in <code>HashSet</code>
and <code>HashMap</code>.</li><li>Implement <code>Hash</code> and <code>Eq</code> for <code>CanonicalAddr</code> to allow using <code>CanonicalAddr</code>
in <code>HashSet</code> and <code>HashMap</code>.</li><li>Implement <code>Add</code>, <code>AddAssign</code> and <code>Sub</code> with references on the right hand side
for <code>Uint128</code>.</li><li>Implement <code>Sum&lt;Uint128&gt;</code> and <code>Sum&lt;&amp;&#x27;a Uint128&gt;</code> for <code>Uint128</code>.</li></ul><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="0110-2020-10-08"></a>0.11.0 (2020-10-08)<a class="hash-link" href="#0110-2020-10-08" title="Direct link to heading">#</a></h2><p><strong>all</strong></p><ul><li>Drop support for Rust versions lower than 1.45.2.</li><li>The serialization of the result from <code>init</code>/<code>migrate</code>/<code>handle</code>/<code>query</code> changed
in an incompatible way. See the new <code>ContractResult</code> and <code>SystemResult</code> types
and their documentation.</li><li>Pass <code>Env</code> into <code>query</code> as well. As this doesn&#x27;t have <code>MessageInfo</code>, we
removed <code>MessageInfo</code> from <code>Env</code> and pass that as a separate argument to
<code>init</code>, <code>handle</code>, and <code>query</code>. See the example
<a href="https://github.com/CosmWasm/cosmwasm/blob/master/README.md#implementing-the-smart-contract" target="_blank" rel="noopener noreferrer">type definitions in the README</a> to
see how to update your contract exports (just add one extra arg each).</li></ul><p><strong>cosmwasm-std</strong></p><ul><li>Add <code>time_nanos</code> to <code>BlockInfo</code> allowing access to high precision block times.</li><li>Change <code>FullDelegation::accumulated_rewards</code> from <code>Coin</code> to <code>Vec&lt;Coin&gt;</code>.</li><li>Rename <code>InitResponse::log</code>, <code>MigrateResponse::log</code> and <code>HandleResponse::log</code>
to <code>InitResponse::attributes</code>, <code>MigrateResponse::attributes</code> and
<code>HandleResponse::attributes</code>.</li><li>Rename <code>LogAttribute</code> to <code>Attribute</code>.</li><li>Rename <code>log</code> to <code>attr</code>.</li><li>Rename <code>Context::add_log</code> to <code>Context::add_attribute</code>.</li><li>Add <code>Api::debug</code> for emitting debug messages during development.</li><li>Fix error type for response parsing errors in <code>ExternalQuerier::raw_query</code>.
This was <code>Ok(Err(StdError::ParseErr))</code> instead of
<code>Err(SystemError::InvalidResponse)</code>, implying an error created in the target
contract.</li><li>Deprecate <code>StdError::Unauthorized</code> and <code>StdError::unauthorized</code> in favour of
custom errors. From now on <code>StdError</code> should only be created by the standard
library and should only contain cases the standard library needs.</li><li>Let <code>impl Display for CanonicalAddr</code> use upper case hex instead of base64.
This also affects <code>CanonicalAddr::to_string</code>.</li><li>Create trait <code>CustomQuery</code> for the generic argument in
<code>QueryRequest&lt;C: CustomQuery&gt;</code>. This allows us to provide
<code>impl&lt;C: CustomQuery&gt; From&lt;C&gt; for QueryRequest&lt;C&gt;</code> for any custom query.</li><li>Implement <code>From&lt;Binary&gt; for Vec&lt;u8&gt;</code>.</li><li>Implement <code>From&lt;CanonicalAddr&gt; for Vec&lt;u8&gt;</code>.</li><li>Add <code>Binary::into_vec</code> and <code>CanonicalAddr::into_vec</code>.</li><li>The <code>canonical_length</code> argument was removed from <code>mock_dependencies</code>,
<code>mock_dependencies_with_balances</code>. In the now deprecated <code>MockApi::new</code>, the
argument is unused. Contracts should not need to set this value and usually
should not make assumptions about the value.</li><li>The canonical address encoding in <code>MockApi::canonical_address</code> and
<code>MockApi::human_address</code> was changed to an unpredicatable represenation of
non-standard length that aims to destroy most of the input structure.</li></ul><p><strong>cosmwasm-storage</strong></p><ul><li>Change order of arguments such that <code>storage</code> is always first followed by
namespace in <code>Bucket::new</code>, <code>Bucket::multilevel</code>, <code>ReadonlyBucket::new</code>,
<code>ReadonlyBucket::multilevel</code>, <code>bucket</code> and <code>bucket_read</code>.</li><li>Change order of arguments such that <code>storage</code> is always first followed by
namespace in <code>PrefixedStorage::new</code>, <code>PrefixedStorage::multilevel</code>,
<code>ReadonlyPrefixedStorage::new</code>, <code>ReadonlyPrefixedStorage::multilevel</code>,
<code>prefixed</code> and <code>prefixed_read</code>.</li></ul><p><strong>cosmwasm-vm</strong></p><ul><li><code>CosmCache::new</code>, <code>Instance::from_code</code> and <code>Instance::from_module</code> now take
an additional argument to enable/disable printing debug logs from contracts.</li><li>Bump required export <code>cosmwasm_vm_version_3</code> to <code>cosmwasm_vm_version_4</code>.</li><li>The <code>canonical_length</code> argument was removed from <code>mock_dependencies</code>,
<code>mock_dependencies_with_balances</code> and <code>MockApi::new_failing</code>. In the now
deprecated <code>MockApi::new</code>, the argument is unused. Contracts should not need
to set this value and usually should not make assumptions about the value.</li><li>The canonical address encoding in <code>MockApi::canonical_address</code> and
<code>MockApi::human_address</code> was changed to an unpredicatable represenation of
non-standard length that aims to destroy most of the input structure.</li></ul><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="0101-2020-08-25"></a>0.10.1 (2020-08-25)<a class="hash-link" href="#0101-2020-08-25" title="Direct link to heading">#</a></h2><p><strong>cosmwasm-std</strong></p><ul><li>Fix bug where <code>ExternalStorage.range()</code> would cause VM error if either lower
or upper bound was set
(<a href="https://github.com/CosmWasm/cosmwasm/issues/508" target="_blank" rel="noopener noreferrer">#508</a>)</li></ul><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="0100-2020-07-30"></a>0.10.0 (2020-07-30)<a class="hash-link" href="#0100-2020-07-30" title="Direct link to heading">#</a></h2><p><strong>all</strong></p><ul><li>Drop support for Rust versions lower than 1.44.1.</li></ul><p><strong>cosmwasm-std</strong></p><ul><li>Remove error helpers <code>generic_err</code>, <code>invalid_base64</code>, <code>invalid_utf8</code>,
<code>not_found</code>, <code>parse_err</code>, <code>serialize_err</code>, <code>underflow</code>, <code>unauthorized</code> in
favour of <code>StdError::generic_err</code> and friends.</li><li>Implement <code>From&lt;&amp;[u8; $N]&gt; for Binary</code> and <code>From&lt;[u8; $N]&gt; for Binary</code> for all
<code>$N &lt;= 32</code>.</li><li>Add <code>Context</code> object that can be used to build Init/Handle/Migrate response
via <code>add_log</code>, <code>add_message</code>, <code>set_data</code> and then convert to the proper type
via <code>into</code> or <code>try_into</code>. Option to simplify response construction.</li><li>Env uses <code>HumanAddr</code> for <code>message.sender</code> and <code>contract_address</code></li><li>Remove <code>Api</code> argument from <code>mock_env</code></li><li>Implement <code>From&lt;&amp;[u8]&gt;</code> and <code>From&lt;Vec&lt;u8&gt;&gt;</code> for <code>CanonicalAddr</code></li></ul><p><strong>cosmwasm-vm</strong></p><ul><li>Remove unused cache size argument from <code>CosmCache</code>.</li><li><code>set_gas_limit</code> now panics if the given gas limit exceeds the max. supported
value.</li><li>Increase the max. supported value for gas limit from 10_000_000_000 to
0x7FFFFFFFFFFFFFFF.</li><li>Add checks to <code>get_region</code> for failing early when the contract sends a Region
pointer to the VM that is not backed by a plausible Region. This helps
development of standard libraries.</li><li>Create dedicated <code>RegionValidationError</code> and <code>RegionValidationResult</code>.</li><li><code>Api::human_address</code> and <code>Api::canonical_address</code> now return a pair of return
data and gas usage.</li><li>Remove <code>NextItem</code> in favour of a more advanced <code>FfiResult&lt;T&gt;</code>, which is used
to store the return result and the gas information consistently across all
APIs. <code>FfiResult&lt;T&gt;</code> was changed to <code>(Result&lt;T, FfiError&gt;, GasInfo)</code>.</li><li>Create error type <code>FfiError::InvalidUtf8</code> for the cases where the backend
sends invalid UTF-8 in places that expect strings.</li><li>Remove <code>FfiError::Other</code> in favour of <code>FfiError::UserErr</code> and
<code>FfiError::Unknown</code>.</li><li>The <code>canonicalize_address</code> and <code>humanize_address</code> imports now report user
errors to the contract.</li><li>Bump <code>cosmwasm_vm_version_2</code> to <code>cosmwasm_vm_version_3</code>.</li><li><code>Querier::raw_query</code> and <code>QuerierResult</code> were removed in favour of the new
<code>Querier::query_raw</code>, which includes a gas limit parameter for the query.</li></ul><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="094-2020-07-16"></a>0.9.4 (2020-07-16)<a class="hash-link" href="#094-2020-07-16" title="Direct link to heading">#</a></h2><p><strong>cosmwasm-vm</strong></p><ul><li>Add <code>Instance::create_gas_report</code> returning a gas report including the
original limit, the remaining gas and the internally/externally used gas.</li></ul><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="093-2020-07-08"></a>0.9.3 (2020-07-08)<a class="hash-link" href="#093-2020-07-08" title="Direct link to heading">#</a></h2><p><strong>cosmwasm-storage</strong></p><ul><li>Add <code>.remove()</code> method to <code>Bucket</code> and <code>Singleton</code>.</li></ul><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="092-2020-06-29"></a>0.9.2 (2020-06-29)<a class="hash-link" href="#092-2020-06-29" title="Direct link to heading">#</a></h2><ul><li>Downgrade wasmer to 0.17.0.</li></ul><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="091-2020-06-25"></a>0.9.1 (2020-06-25)<a class="hash-link" href="#091-2020-06-25" title="Direct link to heading">#</a></h2><p><strong>cosmwasm-std</strong></p><ul><li>Replace type <code>Never</code> with <code>Empty</code> because enums with no cases cannot be
expressed in valid JSON Schema.</li></ul><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="090-2020-06-25"></a>0.9.0 (2020-06-25)<a class="hash-link" href="#090-2020-06-25" title="Direct link to heading">#</a></h2><p>Note: this version contains an API bug and should not be used (see
<a href="https://github.com/CosmWasm/cosmwasm/issues/451" target="_blank" rel="noopener noreferrer">https://github.com/CosmWasm/cosmwasm/issues/451</a>).</p><p><strong>all</strong></p><ul><li>Upgrade wasmer to 0.17.1.</li><li>Drop support for Rust versions lower than 1.43.1</li></ul><p><strong>cosmwasm-std</strong></p><ul><li><code>ReadonlyStorage::get</code> and all its implementations now return
<code>Option&lt;Vec&lt;u8&gt;&gt;</code>.</li><li><code>ReadonlyStorage::range</code> and all its implementations now always succeed and
return an iterator instead of a result. This is now an iterator over
<code>Option&lt;KV&gt;</code> instead of <code>Option&lt;StdResult&lt;KV&gt;&gt;</code>.</li><li><code>Storage::{set, remove}</code> and all their implementations no longer have a return
value. Previously they returned <code>StdResult&lt;()&gt;</code>.</li><li>Trait <code>Querier</code> is not <code>Clone</code> and <code>Send</code> anymore.</li><li><code>consume_region</code> panics on null pointers and returns <code>Vec&lt;u8&gt;</code> instead of
<code>StdResult&lt;Vec&lt;u8&gt;&gt;</code>.</li><li>Added contract migration mechanism. Contracts can now optionally export a
<code>migrate</code> function with the following definition:<div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly rust"><div tabindex="0" class="prism-code language-rust codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">extern &quot;C&quot; fn migrate(env_ptr: u32, msg_ptr: u32) -&gt; u32;</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div></li><li>InitResponse no longer has a data field. We always return the contract address
in the data field in the blockchain and don&#x27;t allow you to override. <code>handle</code>
can still make use of the field.</li><li>Rename <code>MockQuerier::with_staking</code> to <code>MockQuerier::update_staking</code> to match
<code>::update_balance</code>.</li><li>The obsolete <code>StdError::NullPointer</code> and <code>null_pointer</code> were removed.</li><li>Error creator functions are now in type itself, e.g.
<code>StdError::invalid_base64</code> instead of <code>invalid_base64</code>. The free functions are
deprecated and will be removed before 1.0.</li></ul><p><strong>cosmwasm-storage</strong></p><ul><li>Remove <code>transactional_deps</code>. Use <code>transactional</code> that just provides a
transactional storage instead.</li><li><code>get_with_prefix</code> returns <code>Option&lt;Vec&lt;u8&gt;&gt;</code> instead of
<code>StdResult&lt;Option&lt;Vec&lt;u8&gt;&gt;&gt;</code>.</li><li><code>set_with_prefix</code> and <code>remove_with_prefix</code> return nothing instead of
<code>StdResult&lt;()&gt;</code>.</li><li><code>RepLog::commit</code> no longer returns any value (always succeeds).</li><li><code>Op::apply</code> no longer returns any value (always succeeds).</li></ul><p><strong>cosmwasm-vm</strong></p><ul><li>The export <code>allocate</code> must not return 0 as a valid address. The contract is
responsible for avoiding this offset in the linear memory.</li><li>The import <code>db_read</code> now allocates memory for the return value as part of the
call and returns a pointer to the value as <code>u32</code>. The return value 0 means
<em>key does not exist</em>.</li><li>The import <code>db_next</code> now allocates a memory region for the return key and
value as part of the call and returns a pointer to the region as <code>u32</code>. The
data in the region is stored in the format <code>value || key || keylen</code>. As
before, an empty key means <em>no more value</em>.</li><li>Remove <code>Instance::get_gas</code> in favour of <code>Instance::get_gas_left</code>.</li><li>All calls from the VM layer to the chain layer also return the amount of gas
used on success. (This is represented by replacing the return value with
<code>(value, used_gas)</code>). Gas usage across the system is then tracked in the VM
layer, which allows us to halt the contract during an import, as soon as we
can prove that we used all allocated gas.</li><li>Remove instance caching, which is disabled since 0.8.1 as it is not stable.
Remove <code>CosmCache::store_instance</code>; you can not call <code>Instance::recylce</code>
directly to get back the external dependencies.</li><li>Rename <code>MockQuerier::with_staking</code> to <code>MockQuerier::update_staking</code> to match
<code>::update_balance</code>.</li><li>Instead of panicking, <code>read_region</code>/<code>write_region</code>/<code>get_region</code>/<code>set_region</code>
now return a new <code>CommunicationError::DerefErr</code> when dereferencing a pointer
provided by the contract fails.</li><li><code>FfiError::set_message</code> was removed because errors should be immutable. Use
<code>FfiError::other</code> to create an error with the desired error message.</li><li>The import implementation of <code>db_scan</code> now errors instead of returning an
error code for an invalid order value. The return type was changed to <code>u32</code>.</li><li>Remove <code>StorageIteratorItem</code> in favour of the new types <code>StorageIterator</code> and
<code>NextItem</code>. <code>StorageIterator</code> is a custom iterator type that does not
implement Rust&#x27;s <code>Iterator</code> trait, allowing it to communicate the used gas
value of the last <code>next</code> call to the VM.</li><li>Don&#x27;t report any <code>VmError</code> back to the contract in <code>canonicalize_address</code> and
<code>humanize_address</code>. Only invalid inputs should be reported.</li><li>Move error cases <code>VmError::RegionLengthTooBig</code> and <code>VmError::RegionTooSmall</code>
into <code>CommunicationError</code>.</li><li>In the <code>canonicalize_address</code> inplementation, invalid UTF-8 inputs now result
in <code>CommunicationError::InvalidUtf8</code>, which is not reported back to the
contract. A standard library should ensure this never happens by correctly
encoding string input values.</li><li>Merge trait <code>ReadonlyStorage</code> into <code>Storage</code>.</li><li>The imports <code>canonicalize_address</code> and <code>humanize_address</code> now return a memory
address to an error <code>Region</code>. If this address is 0, the call succeeded.</li><li>Bump <code>cosmwasm_vm_version_1</code> to <code>cosmwasm_vm_version_2</code>.</li></ul><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="081-2020-06-08"></a>0.8.1 (2020-06-08)<a class="hash-link" href="#081-2020-06-08" title="Direct link to heading">#</a></h2><p><strong>cosmwasm-std</strong></p><ul><li>The arguments of <code>log</code> changed from <code>&amp;str</code> to <code>ToString</code>, allowing to pass
various types like <code>String</code>, <code>HumanAddr</code>, <code>Uint128</code> or primitive integers
directly.</li><li>Add <code>From&lt;Vec&lt;u8&gt;&gt;</code> and <code>Into&lt;Vec&lt;u8&gt;&gt;</code> implementations for <code>Binary</code> for
zero-copy conversions.</li></ul><p><strong>cosmwasm-vm</strong></p><ul><li>Deprecated <code>Instance::get_gas</code> in favour of <code>Instance::get_gas_left</code>. The old
method will remain available for a while but will issue a deprecation warning
when used.</li><li>Disable instance caching by treating every cache size as 0. Instance caching
is not safe as the same Wasm memory is reused across multiple executions.</li><li>The storage of an <code>Instance</code> can now be set into readonly mode, which is
checked by the writing storage imports <code>db_write</code> and <code>db_remove</code>. Read-only
mode is off by default for backwards compatibility. <code>call_query_raw</code> now sets
the instance&#x27;s storage to readonly.</li><li>The new error case <code>VmError::WriteAccessDenied</code> is returned when a contract
calls an import that potentially writes to storage during a query.</li></ul><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="080-2020-05-25"></a>0.8.0 (2020-05-25)<a class="hash-link" href="#080-2020-05-25" title="Direct link to heading">#</a></h2><p><strong>all</strong></p><ul><li>Upgrade schemars to 0.7.</li><li>Upgrade wasmer to 0.17.</li><li>Update snafu to 0.6.</li><li>Minimal supported Rust version is 1.41.</li><li>Split <code>Region.len</code> into <code>Region.capacity</code> and <code>Region.length</code>, where the new
capacity is the number of bytes available and <code>length</code> is the number of bytes
used. This is a breaking change in the contract-vm interface, which requires
the same memory layout of the <code>Region</code> struct on both sides.</li><li>Add <code>remove</code> method to <code>Storage</code> trait.</li><li>(feature-flagged) Add <code>range</code> method to <code>ReadonlyStorage</code> trait. This returns
an iterator that covers all or a subset of the items in the db ordered
ascending or descending by key.</li><li>Add new feature flag <code>iterator</code> to both packages to enable <code>range</code>
functionality. This is used to allow potential porting to chains that use
Merkle Tries (which don&#x27;t allow iterating over ranges).</li><li>All serialized JSON types now use snake_case mappings for names. This means
enum fields like <code>ChangeOwner</code> will map to <code>change_owner</code> in the underlying
JSON, not <code>changeowner</code>. This is a breaking change for the clients.</li><li>Public interface between contract and runtime no longer uses <code>String</code> to
represent an error, but rather serializes <code>ApiError</code> as a rich JSON error.</li><li>Return value from <code>env.write_db</code> and <code>env.remove_db</code> to allow error reporting.</li><li>Query responses are now required to contain valid JSON.</li><li>Renamed all <code>*_db</code> wasm imports to <code>db_*</code></li><li>Merge <code>cw-storage</code> repo as subpackage, now <code>cosmwasm-storage</code></li><li>Add iterator support to <code>cosmwasm-storage</code></li><li><code>Coin.amount</code> is now <code>Uint128</code> rather than <code>String</code>. Uint128 serializes as a
string in JSON, but parses into a u128 data in memory. It also has some
operator overloads to allow easy math operations on <code>Coin</code> types, as well as
enforcing valid amounts.</li><li><code>Env</code> no longer has a <code>contract.balance</code> element. If you need this info,
please use the <code>Querier</code> to get this info. As of Cosmos-SDK 0.39 this needs
extra storage queries to get the balance, so we only do those queries when
needed.</li><li><code>Env.message.sent_funds</code> is a <code>Vec&lt;Coin&gt;</code> not <code>Option&lt;Vec&lt;Coin&gt;&gt;</code>. We will
normalize the go response in <code>go-cosmwasm</code> before sending it to the contract.</li><li><code>Env.message.signer</code> was renamed to <code>Env.message.sender</code>.</li><li><code>Env.block.{height,time}</code> are now <code>u64</code> rather than <code>i64</code>.</li></ul><p><strong>cosmwasm-schema</strong></p><ul><li>This new crate now contains the implementations for generating JSON Schema
files from interface types. It exposes the functions <code>export_schema</code>,
<code>export_schema_with_title</code>, and <code>schema_for</code>.</li></ul><p><strong>cosmwasm-std</strong></p><ul><li>Make all symbols from <code>cosmwasm::memory</code> crate internal, as those symbols are
not needed by users of the library.</li><li>Rename <code>cosmwasm::mock::dependencies</code> -&gt; <code>cosmwasm::mock::mock_dependencies</code>
to differentiate between testing and production <code>External</code>.</li><li>Export all symbols from <code>cosmwasm::mock</code> as the new non-wasm32 module
<code>cosmwasm::testing</code>. Export all remaining symbols at top level (e.g.
<code>use cosmwasm::traits::{Api, Storage};</code> + <code>use cosmwasm::encoding::Binary;</code>
becomes <code>use cosmwasm::{Api, Binary, Storage};</code>).</li><li>Rename package <code>cosmwasm</code> to <code>cosmwasm-std</code>.</li><li>The export <code>allocate</code> does not zero-fill the allocated memory anymore.</li><li>Add <code>remove_db</code> to the required imports of a contract.</li><li>(feature-flagged) add <code>scan_db</code> and <code>next_db</code> callbacks from wasm contract to
VM.</li><li><code>serde::{from_slice, to_vec}</code> return <code>cosmwasm_std::Result</code>, no more need to
use <code>.context(...)</code> when calling these functions</li><li>Split <code>Response</code> into <code>InitResponse</code> and <code>HandleResponse</code>; split
<code>ContractResult</code> into <code>InitResult</code> and <code>HandleResult</code>.</li><li>Create explicit <code>QueryResponse</code>, analogue to <code>InitResponse</code> and
<code>HandleResponse</code>.</li><li>The exports <code>cosmwasm_vm_version_1</code>, <code>allocate</code> and <code>deallocate</code> are now
private and can only be called via the Wasm export. Make sure to <code>use</code><code>cosmwasm_std</code> at least once in the contract to pull in the C exports.</li><li>Add <code>Querier</code> trait and <code>QueryRequest</code> for query callbacks from the contract,
along with <code>SystemError</code> type for the runtime rejecting messages.</li><li><code>QueryRequest</code> takes a generic <code>Custom(T)</code> type that is passed opaquely to the
end consumer (<code>wasmd</code> or integration test stubs), allowing custom queries to
native code.</li><li><code>{Init,Handle,Query}Result</code> are now just aliases for a concrete <code>ApiResult</code>
type.</li><li>Support results up to 128 KiB in <code>ExternalStorage.get</code>.</li><li>The <code>Storage</code> trait&#x27;s <code>.get</code>, <code>.set</code> and <code>.remove</code> now return a <code>Result</code> to
allow propagation of errors.</li><li>Move <code>transactional</code>, <code>transactional_deps</code>, <code>RepLog</code>, <code>StorageTransaction</code>
into crate <code>cosmwasm-storage</code>.</li><li>Rename <code>Result</code> to <code>StdResult</code> to differentiate between the auto-<code>use</code>d
<code>core::result::Result</code>. Fix error argument to <code>Error</code>.</li><li>Complete overhaul of <code>Error</code> into <code>StdError</code>:<ul><li>The <code>StdError</code> enum can now be serialized and deserialized (losing its
backtrace), which allows us to pass them over the Wasm/VM boundary. This
allows using fully structured errors in e.g. integration tests.</li><li>Auto generated snafu error constructor structs like <code>NotFound</code>/<code>ParseErr</code>/â€¦
have been intenalized in favour of error generation helpers like
<code>not_found</code>/<code>parse_err</code>/â€¦</li><li>All error generator functions now return errors instead of results.</li><li>Error cases don&#x27;t contain <code>source</code> fields anymore. Instead source errors are
converted to standard types like <code>String</code>. For this reason, both
<code>snafu::ResultExt</code> and <code>snafu::OptionExt</code> cannot be used anymore.</li><li>Backtraces became optional. Use <code>RUST_BACKTRACE=1</code> to enable them.</li><li><code>Utf8Err</code>/<code>Utf8StringErr</code> merged into <code>StdError::InvalidUtf8</code></li><li><code>Base64Err</code> renamed into <code>StdError::InvalidBase64</code></li><li><code>ContractErr</code>/<code>DynContractErr</code> merged into <code>StdError::GeneralErr</code></li><li>The unused <code>ValidationErr</code> was removed</li><li><code>StdError</code> is now
<a href="https://doc.rust-lang.org/1.35.0/unstable-book/language-features/non-exhaustive.html" target="_blank" rel="noopener noreferrer">non_exhaustive</a>,
making new error cases non-breaking changes.</li></ul></li><li><code>ExternalStorage.get</code> now returns an empty vector if a storage entry exists
but has an empty value. Before, this was normalized to <code>None</code>.</li><li>Reorganize <code>CosmosMsg</code> enum types. They are now split by modules:
<code>CosmosMsg::Bank(BankMsg)</code>, <code>CosmosMsg::Custom(T)</code>, <code>CosmosMsg::Wasm(WasmMsg)</code></li><li>CosmosMsg is now generic over the content of <code>Custom</code> variant. This allows
blockchains to support custom native calls in their Cosmos-SDK apps and
developers to make use of them in CosmWasm apps without forking the
<code>cosmwasm-vm</code> and <code>go-cosmwasm</code> runtime.</li><li>Add <code>staking</code> feature flag to expose new <code>StakingMsg</code> types under <code>CosmosMsg</code>
and new <code>StakingRequest</code> types under <code>QueryRequest</code>.</li><li>Add support for mocking-out staking queries via <code>MockQuerier.with_staking</code></li><li><code>from_slice</code>/<code>from_binary</code> now require result type to be <code>DeserializeOwned</code>,
i.e. the result must not contain references such as <code>&amp;str</code>.</li></ul><p><strong>cosmwasm-vm</strong></p><ul><li>Make <code>Instance.memory</code>/<code>.allocate</code>/<code>.deallocate</code>/<code>.func</code> crate internal. A
user of the VM must not access the instance&#x27;s memory directly.</li><li>The imports <code>env.canonicalize_address</code>, <code>env.humanize_address</code> and
<code>env.read_db</code> don&#x27;t return the number of bytes written anymore. This value is
now available in the resulting regions. Negative return values are errors, 0
is success and values greater than 0 are reserved for future use.</li><li>Change the required interface version guard export from <code>cosmwasm_api_0_6</code> to
<code>cosmwasm_vm_version_1</code>.</li><li>Provide implementations for <code>remove_db</code> and (feature-flagged) <code>scan_db</code> and
<code>next_db</code></li><li>Provide custom <code>serde::{from_slice, to_vec}</code> implementation separate from
<code>cosmwasm_std</code>, so we can return cosmwasm-vm specific <code>Result</code> (only used
internally).</li><li><code>call_{init,handle,query}</code> and the <code>cosmwasm_vm::testing</code> wrappers return
standard <code>Result</code> types now, eg. <code>Result&lt;HandleResponse, ApiError&gt;</code>.</li><li>Add length limit when reading memory from the instance to protect against
malicious contracts creating overly large <code>Region</code>s.</li><li>Add <code>Instance.get_memory_size</code>, giving you the peak memory consumption of an
instance.</li><li>Remove <code>cosmwasm_vm::errors::CacheExt</code>.</li><li>Move <code>cosmwasm_vm::errors::{Error, Result}</code> to
<code>cosmwasm_vm::{VmError, VmResult}</code> and remove generic error type from result.</li><li>The import <code>db_read</code> now returns an error code if the storage key does not
exist. The latest standard library converts this error code back to a <code>None</code>
value. This allows differentiating non-existent and empty storage entries.</li><li>Make <code>Instance::from_module</code>, <code>::from_wasmer</code> and <code>::recycle</code> crate-internal.</li><li>Create explicit, public <code>Checksum</code> type to identify Wasm blobs.</li><li><code>CosmCache::new</code> now takes supported features as an argument.</li><li>Rename <code>VmError::RegionTooSmallErr</code> to <code>VmError::RegionTooSmall</code>.</li><li>Rename <code>VmError::RegionLengthTooBigErr</code> to <code>VmError::RegionLengthTooBig</code>.</li><li>Change property types to owned string in <code>VmError::UninitializedContextData</code>,
<code>VmError::ConversionErr</code>, <code>VmError::ParseErr</code> and <code>VmError::SerializeErr</code>.</li><li>Remove <code>VmError::IoErr</code> in favour of <code>VmError::CacheErr</code>.</li><li>Simplify <code>VmError::CompileErr</code>, <code>VmError::ResolveErr</code> and
<code>VmError::WasmerRuntimeErr</code> to just hold a string with the details instead of
the source error.</li><li>Remove <code>VmError::WasmerErr</code> in favour of the new <code>VmError::InstantiationErr</code>.</li><li>The snafu error builders from <code>VmError</code> are now private, i.e. callers can only
use the errors, not create them.</li><li><code>VmError</code> is now <code>#[non_exhaustive]</code>.</li><li>Split <code>VmError::RuntimeErr</code> in <code>VmError::BackendErr</code> and
<code>VmError::GenericErr</code>; rename <code>VmError::WasmerRuntimeErr</code> to
<code>VmError::RuntimeErr</code>.</li><li>Add <code>Instance.with_querier</code> analogue to <code>Instance.with_storage</code>.</li></ul><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="072-2020-03-23"></a>0.7.2 (2020-03-23)<a class="hash-link" href="#072-2020-03-23" title="Direct link to heading">#</a></h2><p><strong>cosmwasm</strong></p><ul><li>Fix JSON schema type of <code>Binary</code> from int array (wrong) to string (right).</li><li>Make <code>Extern</code> not <code>Clone</code>able anymore. Before cloning led to copying the data
for mock storage and copying a stateless bridge for the external storage,
which are different semantics.</li><li>Remove public <code>cosmwasm::imports::dependencies</code>. A user of this library does
not need to call this explicitely. Dependencies are created internally and
passed as an argument in <code>exports::do_init</code>, <code>exports::do_handle</code> and
<code>exports::do_query</code>.</li><li>Make <code>ExternalStorage</code> not <code>Clone</code>able anymore. This does not copy any data,
so a clone could lead to unexpected results.</li></ul><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="071-2020-03-11"></a>0.7.1 (2020-03-11)<a class="hash-link" href="#071-2020-03-11" title="Direct link to heading">#</a></h2><p><strong>cosmwasm_vm</strong></p><ul><li>Avoid unnecessary panic when checking corrupted wasm file.</li><li>Support saving the same wasm to cache multiple times.</li></ul><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="070-2020-02-26"></a>0.7.0 (2020-02-26)<a class="hash-link" href="#070-2020-02-26" title="Direct link to heading">#</a></h2><p><strong>cosmwasm</strong></p><ul><li>Rename <code>Slice</code> to <code>Region</code> to simplify differentiation between Wasm memory
region and serde&#x27;s <code>from_slice</code></li><li>Rename <code>Params</code> to <code>Env</code>, <code>mock_params</code> to <code>mock_env</code> for clearer naming (this
is information on the execution environment)</li><li><code>Response.log</code> is not a vector of key/value pairs that can later be indexed by
Tendermint.</li></ul><p><strong>cosmwasm_vm</strong></p><ul><li>Remove export <code>cosmwasm_vm::read_memory</code>. Using this indicates an
architectural flaw, since this is a method for host to guest communication
inside the VM and not needed for users of the VM.</li><li>Create new type <code>cosmwasm_vm:errors::Error::RegionTooSmallErr</code>.</li><li>Change return type of <code>cosmwasm_vm::write_memory</code> to <code>Result&lt;usize, Error&gt;</code> to
make it harder to forget handling errors.</li><li>Fix missing error propagation in <code>do_canonical_address</code>, <code>do_human_address</code>
and <code>allocate</code>.</li><li>Update error return codes in import <code>c_read</code>.</li><li>Rename imports <code>c_read</code>/<code>c_write</code> to <code>read_db</code>/<code>write_db</code>.</li><li>Rename imports <code>c_canonical_address</code>/<code>c_human_address</code> to
<code>canonicalize_address</code>/<code>humanize_address</code>.</li><li>Add <code>cosmwasm_vm::testing::test_io</code> for basic memory allocation/deallocation
testing between host and guest.</li><li>Make <code>ValidationErr.msg</code> a dynamic <code>String</code> including relevant runtime
information.</li><li>Remove export <code>check_api_compatibility</code>. The VM will take care of calling it.</li><li>Let <code>check_api_compatibility</code> check imports by fully qualified identifier
<code>&lt;module&gt;.&lt;name&gt;</code>.</li><li>Make gas limit immutable in <code>cosmwasm_vm::instance::Instance</code>. It is passed
once at construction time and cannot publicly be manipulated anymore.</li><li>Remove <code>take_storage</code>/<code>leave_storage</code> from <code>cosmwasm_vm::Instance</code>.</li></ul><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="06"></a>0.6<a class="hash-link" href="#06" title="Direct link to heading">#</a></h2><p><a href="https://github.com/confio/cosmwasm/issues/73" target="_blank" rel="noopener noreferrer">Define canonical address callbacks</a></p><ul><li><p>Use <code>&amp;[u8]</code> for addresses in params</p></li><li><p>Allow contracts to resolve human readable addresses (<code>&amp;str</code>) in their json
into a fixed-size binary representation</p></li><li><p>Provide mocks for unit testing and integration tests</p></li><li><p>Separate out <code>Storage</code> from <code>ReadOnlyStorage</code> as separate traits</p></li></ul><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="05"></a>0.5<a class="hash-link" href="#05" title="Direct link to heading">#</a></h2><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="052"></a>0.5.2<a class="hash-link" href="#052" title="Direct link to heading">#</a></h3><p>This is the first documented and supported implementation. It contains the basic
feature set. <code>init</code> and <code>handle</code> supported for modules and can return messages.
A stub implementation of <code>query</code> is done, which is likely to be deprecated soon.
Some main points:</p><ul><li>The build-system and unit/integration-test setup is all stabilized.</li><li>Cosmwasm-vm supports singlepass and cranelift backends, and caches modules on
disk and instances in memory (lru cache).</li><li>JSON Schema output works</li></ul><p>All future Changelog entries will reference this base</p></div></article><div class="margin-vert--xl"><div class="row"><div class="col"><a href="https://github.com/CosmWasm/docs/edit/master/docs/learn/CHANGELOG.md" target="_blank" rel="noreferrer noopener"><svg fill="currentColor" height="1.2em" width="1.2em" preserveAspectRatio="xMidYMid meet" role="img" viewBox="0 0 40 40" class="iconEdit_2_ui" aria-label="Edit page"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div></div></div><div class="margin-vert--lg"><nav class="pagination-nav" aria-label="Docs pages navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/learn/MIGRATING"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Â« Migrating Contracts</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/community/hall-of-fame"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Hall of Fame Â»</div></a></div></nav></div></div></div><div class="col col--3"><div class="tableOfContents_35-E thin-scrollbar"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#0140---2021-05-03" class="table-of-contents__link">0.14.0 - 2021-05-03</a><ul><li><a href="#added" class="table-of-contents__link">Added</a></li><li><a href="#changed" class="table-of-contents__link">Changed</a></li><li><a href="#deprecated" class="table-of-contents__link">Deprecated</a></li></ul></li><li><a href="#0132---2021-01-14" class="table-of-contents__link">0.13.2 - 2021-01-14</a></li><li><a href="#changed-1" class="table-of-contents__link">Changed</a></li><li><a href="#0131---2021-01-12" class="table-of-contents__link">0.13.1 - 2021-01-12</a><ul><li><a href="#added-1" class="table-of-contents__link">Added</a></li></ul></li><li><a href="#0130--2021-01-06" class="table-of-contents__link">0.13.0 â€“ 2021-01-06</a></li><li><a href="#added-2" class="table-of-contents__link">Added</a></li><li><a href="#changed-2" class="table-of-contents__link">Changed</a></li><li><a href="#0121-2020-12-09" class="table-of-contents__link">0.12.1 (2020-12-09)</a></li><li><a href="#0120-2020-11-19" class="table-of-contents__link">0.12.0 (2020-11-19)</a></li><li><a href="#0112-2020-10-26" class="table-of-contents__link">0.11.2 (2020-10-26)</a></li><li><a href="#0111-2020-10-12" class="table-of-contents__link">0.11.1 (2020-10-12)</a></li><li><a href="#0110-2020-10-08" class="table-of-contents__link">0.11.0 (2020-10-08)</a></li><li><a href="#0101-2020-08-25" class="table-of-contents__link">0.10.1 (2020-08-25)</a></li><li><a href="#0100-2020-07-30" class="table-of-contents__link">0.10.0 (2020-07-30)</a></li><li><a href="#094-2020-07-16" class="table-of-contents__link">0.9.4 (2020-07-16)</a></li><li><a href="#093-2020-07-08" class="table-of-contents__link">0.9.3 (2020-07-08)</a></li><li><a href="#092-2020-06-29" class="table-of-contents__link">0.9.2 (2020-06-29)</a></li><li><a href="#091-2020-06-25" class="table-of-contents__link">0.9.1 (2020-06-25)</a></li><li><a href="#090-2020-06-25" class="table-of-contents__link">0.9.0 (2020-06-25)</a></li><li><a href="#081-2020-06-08" class="table-of-contents__link">0.8.1 (2020-06-08)</a></li><li><a href="#080-2020-05-25" class="table-of-contents__link">0.8.0 (2020-05-25)</a></li><li><a href="#072-2020-03-23" class="table-of-contents__link">0.7.2 (2020-03-23)</a></li><li><a href="#071-2020-03-11" class="table-of-contents__link">0.7.1 (2020-03-11)</a></li><li><a href="#070-2020-02-26" class="table-of-contents__link">0.7.0 (2020-02-26)</a></li><li><a href="#06" class="table-of-contents__link">0.6</a></li><li><a href="#05" class="table-of-contents__link">0.5</a><ul><li><a href="#052" class="table-of-contents__link">0.5.2</a></li></ul></li></ul></div></div></div></div></main></div></div><footer class="footer"><div class="container"><div class="row footer__links"><div class="col footer__col"><h4 class="footer__title">Related Documentation</h4><ul class="footer__items"><li class="footer__item"><a href="https://cosmos.network/docs" target="_blank" rel="noopener noreferrer" class="footer__link-item">Cosmos SDK</a></li><li class="footer__item"><a href="https://hub.cosmos.network/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Cosmos Hub</a></li><li class="footer__item"><a href="https://docs.tendermint.com/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Tendermint Core</a></li></ul></div><div class="col footer__col"><h4 class="footer__title">Repositories</h4><ul class="footer__items"><li class="footer__item"><a href="https://github.com/CosmWasm/cosmwasm" target="_blank" rel="noopener noreferrer" class="footer__link-item">CosmWasm/cosmwasm</a></li><li class="footer__item"><a href="https://github.com/CosmWasm/wasmd" target="_blank" rel="noopener noreferrer" class="footer__link-item">CosmWasm/wasmd</a></li><li class="footer__item"><a href="https://github.com/CosmWasm/cosmwasm-plus" target="_blank" rel="noopener noreferrer" class="footer__link-item">CosmWasm/cosmwasm-plus</a></li><li class="footer__item"><a href="https://github.com/CosmWasm/cawesome-wasm" target="_blank" rel="noopener noreferrer" class="footer__link-item">CosmWasm/cawesome-wasm</a></li></ul></div><div class="col footer__col"><h4 class="footer__title">Community</h4><ul class="footer__items"><li class="footer__item"><a href="https://medium.com/confio" target="_blank" rel="noopener noreferrer" class="footer__link-item">Confio Blog</a></li><li class="footer__item"><a href="https://docs.cosmwasm.com/chat/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Discord</a></li><li class="footer__item"><a href="https://twitter.com/CosmWasm" target="_blank" rel="noopener noreferrer" class="footer__link-item">Twitter</a></li></ul></div></div><div class="footer__bottom text--center"><div class="margin-bottom--sm"><a href="https://cosmwasm.com" target="_blank" rel="noopener noreferrer" class="footerLogoLink_MyFc"><img src="/img/logo_stacked.png" alt="CosmWasm Logo" class="themedImage_1VuW themedImage--light_3UqQ footer__logo"><img src="/img/logo_stacked.png" alt="CosmWasm Logo" class="themedImage_1VuW themedImage--dark_hz6m footer__logo"></a></div><div class="footer__copyright">Copyright Â© 2021 Confio OÃœ</div></div></div></footer></div>
<script src="/assets/js/runtime~main.79e02d10.js"></script>
<script src="/assets/js/main.b444c41b.js"></script>
</body>
</html>