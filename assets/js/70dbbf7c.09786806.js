"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[3919],{3905:function(e,t,n){n.d(t,{Zo:function(){return m},kt:function(){return d}});var r=n(7294);function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var c=r.createContext({}),l=function(e){var t=r.useContext(c),n=t;return e&&(n="function"==typeof e?e(t):o(o({},t),e)),n},m=function(e){var t=l(e.components);return r.createElement(c.Provider,{value:t},e.children)},u={inlineCode:"code",wrapper:function(e){var t=e.children;return r.createElement(r.Fragment,{},t)}},p=r.forwardRef((function(e,t){var n=e.components,a=e.mdxType,i=e.originalType,c=e.parentName,m=s(e,["components","mdxType","originalType","parentName"]),p=l(n),d=a,f=p["".concat(c,".").concat(d)]||p[d]||u[d]||i;return n?r.createElement(f,o(o({ref:t},m),{},{components:n})):r.createElement(f,o({ref:t},m))}));function d(e,t){var n=arguments,a=t&&t.mdxType;if("string"==typeof e||a){var i=n.length,o=new Array(i);o[0]=p;var s={};for(var c in t)hasOwnProperty.call(t,c)&&(s[c]=t[c]);s.originalType=e,s.mdxType="string"==typeof e?e:a,o[1]=s;for(var l=2;l<i;l++)o[l]=n[l];return r.createElement.apply(null,o)}return r.createElement.apply(null,n)}p.displayName="MDXCreateElement"},8933:function(e,t,n){n.r(t),n.d(t,{assets:function(){return c},contentTitle:function(){return o},default:function(){return u},frontMatter:function(){return i},metadata:function(){return s},toc:function(){return l}});var r=n(3117),a=(n(7294),n(3905));const i={id:"cw20-streams",sidebar_position:6,title:"CW20 Streams"},o="CW20 Streams",s={unversionedId:"cw20-streams",id:"cw20-streams",title:"CW20 Streams",description:"Source code is at cw20-streams.",source:"@site/cw-tokens/cw20-streams.md",sourceDirName:".",slug:"/cw20-streams",permalink:"/cw-tokens/cw20-streams",draft:!1,editUrl:"https://github.com/InterWasm/docs/edit/main/cw-tokens/cw20-streams.md",tags:[],version:"current",sidebarPosition:6,frontMatter:{id:"cw20-streams",sidebar_position:6,title:"CW20 Streams"},sidebar:"cwPlus",previous:{title:"CW20 Staking",permalink:"/cw-tokens/cw20-staking"}},c={},l=[{value:"Instantiation",id:"instantiation",level:2},{value:"Creating a Stream",id:"creating-a-stream",level:2},{value:"Withdrawing payments",id:"withdrawing-payments",level:2}],m={toc:l};function u(e){let{components:t,...n}=e;return(0,a.kt)("wrapper",(0,r.Z)({},m,n,{components:t,mdxType:"MDXLayout"}),(0,a.kt)("h1",{id:"cw20-streams"},"CW20 Streams"),(0,a.kt)("p",null,"Source code is at ",(0,a.kt)("a",{parentName:"p",href:"https://github.com/CosmWasm/cw-tokens/tree/main/contracts/cw20-streams"},"cw20-streams"),"."),(0,a.kt)("p",null,"This is a contract that is made for creating a payment stream using cw20 tokens. The payment stream allows for a payment to be continuously vested until the end of the stream."),(0,a.kt)("h2",{id:"instantiation"},"Instantiation"),(0,a.kt)("p",null,"To instantiate a new instance of this contract you must specify a contract owner, and the cw20 token address used for the streams.\nOnly one cw20 token can be used for payments for each contract instance."),(0,a.kt)("h2",{id:"creating-a-stream"},"Creating a Stream"),(0,a.kt)("p",null,"A stream can be created using the cw20 Send / Receive flow. This involves triggering a Send message from the cw20 token contract, with a Receive callback that's sent to the token streaming contract. The callback message must include the start time and end time of the stream in seconds, as well as the payment recipient."),(0,a.kt)("h2",{id:"withdrawing-payments"},"Withdrawing payments"),(0,a.kt)("p",null,"Streamed payments can be claimed continously at any point after the start time by triggering a Withdraw message. The amount will be calculated based on the current block time, start time, and end time of the stream. If the block time is after the end time, the amount will be total unclaimed amount."))}u.isMDXComponent=!0}}]);